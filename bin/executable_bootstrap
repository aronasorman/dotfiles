#!/usr/bin/env python
# Bootstrap different unix systems
# for now only for Linux, since that's the easiest to run on a VM
#
# Pipe this script to a python shell with sudo:
# $ curl https://github.com/aronasorman/dotfiles/blob/master/bin/bootstrap | sudo python -

import logging
import subprocess

logging.basicConfig()

def bootstrap_ubuntu():
    logging.info("Bootstrapping ansible...")
    subprocess.call(["apt", "install", "-y", "ansible", "curl"])

    logging.info("Fetching playbook setup...")
    # TODO!

    logging.info("Continuing setup scripts through ansible...")

if __name__ == "__main__":
    uname = subprocess.check_output(["uname", "-a"])
    if "ubuntu" in uname.lower():
        bootstrap_ubuntu()
